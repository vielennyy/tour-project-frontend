"use strict";(self.webpackChunk_cromwell_admin_panel=self.webpackChunk_cromwell_admin_panel||[]).push([[668],{96896:(e,t,r)=>{r.d(t,{Z:()=>i});var n=r(6620),a=r(52322);const i=(0,n.Z)((0,a.jsx)("path",{d:"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"AddCircleOutline")},4433:(e,t,r)=>{r.d(t,{Z:()=>i});var n=r(6620),a=r(52322);const i=(0,n.Z)((0,a.jsx)("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"}),"Image")},71668:(e,t,r)=>{r.r(t),r.d(t,{default:()=>X});var n=r(25047),a=r.n(n),i=r(76082),l=r(38677),c=r(63735),u=r(31117),o=r(6277),s=r(2784),d=r(47005),p=r(80763),m=r(96896),f=r(3085),v=r(6620),h=r(52322);const g=(0,v.Z)((0,h.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}),"Save");var b=r(4433),x=r(53242),y=r(23883),k=r(63297),w=r(87037),E=r(24142),_=r(77256),A=r(11079),Z=r(31941),C=r(82355),S=r(65479),z=r(91186);function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function I(e,t,r,n,a,i,l){try{var c=e[i](l),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,a)}function j(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function l(e){I(i,n,a,l,c,"next",e)}function c(e){I(i,n,a,l,c,"throw",e)}l(void 0)}))}}function J(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i=[],l=!0,c=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{l||null==r.return||r.return()}finally{if(c)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return T(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?T(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var P=(0,E.Z)((function(){return(0,_.Z)({textFieldRoot:{"& input":{fontSize:"20px",fontWeight:500}}})}));const D=function(e){var t,r,n=(0,s.useRef)(e.data),l=J((0,s.useState)([]),2),c=l[0],u=l[1],o=J((0,s.useState)(!1),2),p=o[0],v=o[1],h=J((0,s.useState)(!1),2),E=h[0],_=h[1],T=(0,d.N)(),I=(0,i.getGraphQLClient)(),D=P(),H=(t=j(a().mark((function e(){var t,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===(t=n.current)||void 0===t?void 0:t.id)){e.next=12;break}return e.prev=2,e.next=5,I.getAttributeById(n.current.id);case 5:r=e.sent,n.current=r,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])}))),function(){return t.apply(this,arguments)}),R=function(){var e=j(a().mark((function e(){var t,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v(!0),t=!1,e.prev=2,r={key:n.current.key,values:n.current.values.map((function(e){return{value:e.value,icon:e.icon}})),type:n.current.type,icon:n.current.icon,slug:n.current.slug,required:n.current.required},!n.current.id){e.next=9;break}return e.next=7,I.updateAttribute(n.current.id,r);case 7:e.next=11;break;case 9:return e.next=11,I.createAttribute(r);case 11:return e.next=13,H();case 13:t=!0,e.next=19;break;case 16:e.prev=16,e.t0=e.catch(2),console.error(e.t0);case 19:t?S.A.success("Attribute saved"):S.A.error("Failed to save attribute"),v(!1);case 21:case"end":return e.stop()}}),e,null,[[2,16]])})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=j(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.length>0?(n.current.values=n.current.values.filter((function(e){return!c.includes(e.value)})),u([])):_(!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){var t=j(a().mark((function t(){var r,i,l;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(_(!1),r=!1,t.prev=2,!(null===(i=n.current)||void 0===i?void 0:i.id)){t.next=7;break}return t.next=7,I.deleteAttribute(null===(l=n.current)||void 0===l?void 0:l.id);case 7:e.handleRemove(e.data),n.current=void 0,T(),r=!0,t.next=16;break;case 13:t.prev=13,t.t0=t.catch(2),console.error(t.t0);case 16:r?S.A.success("Deleted attribute"):S.A.error("Failed to delete attribute");case 17:case"end":return t.stop()}}),t,null,[[2,13]])})));return function(){return t.apply(this,arguments)}}();return s.createElement(s.Fragment,null,n.current&&s.createElement(z.S,{title:s.createElement(x.Z,{size:"small",variant:"standard",placeholder:"Attribute title",style:{marginRight:"15px"},defaultValue:n.current.key,onChange:function(e){var t=e.target.value;n.current.key=t,T()},classes:{root:D.textFieldRoot}}),items:n.current.values.map((function(e){return e.value})),checked:c,setChecked:function(e){u(e)},fullWidthToggle:!1,actions:s.createElement("div",{style:{marginLeft:"auto",display:"flex"}},s.createElement(y.Z,{title:n.current.required?"required":"optional"},s.createElement(k.Z,{checked:null!==(r=n.current.required)&&void 0!==r&&r,onClick:function(){n.current.required=!n.current.required,T()}})),s.createElement(y.Z,{title:"Add new value"},s.createElement(w.Z,{onClick:function(){n.current.values.push({value:""}),T()}},s.createElement(m.Z,null))),s.createElement(y.Z,{title:c.length>0?"Remove checked values":"Remove attribute"},s.createElement(w.Z,{onClick:U},s.createElement(f.Z,null))),s.createElement(y.Z,{title:"Save attribute"},s.createElement(w.Z,{onClick:R},s.createElement(g,null)))),itemComp:function(e){var t=n.current.values.find((function(t){return t.value===e.value})),r=function(){var e=j(a().mark((function e(){var r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,null===(r=(0,A.H)())||void 0===r?void 0:r.getPhoto();case 3:(i=e.sent)&&(n.current.values.forEach((function(e,r){e===t&&(n.current.values[r].icon=i)})),T());case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return s.createElement("div",{style:{display:"flex",alignItems:"center"}},s.createElement(x.Z,{variant:"standard",style:{marginRight:"15px"},defaultValue:e.value,onChange:function(e){var r=e.target.value;n.current.values.forEach((function(e,a){e===t&&(n.current.values[a].value=r)}))}}),s.createElement(y.Z,{title:"Change value icon"},s.createElement(w.Z,{onClick:r},t.icon?s.createElement("div",{style:{width:"30px",height:"30px",background:'url("'.concat(t.icon,'") center center no-repeat'),backgroundSize:"contain"}}):s.createElement(b.Z,null))),s.createElement(y.Z,{title:"Delete value"},s.createElement(w.Z,{onClick:function(){n.current.values=n.current.values.filter((function(e){return e.value!==t.value})),T()}},s.createElement(f.Z,null))))}}),s.createElement(C.ZP,{open:E,title:"Delete attribute? (no undo)",onConfirm:V,onClose:function(){return _(!1)}}),s.createElement(Z.Q,{isActive:p}))};var H=r(46062),R=r.n(H),U=r(44036),V=r.n(U),L=r(96793),N=r.n(L),Q=r(9978),q=r.n(Q),O=r(11173),M=r.n(O),F=r(42464),K=r.n(F),G=r(82654),W={attributes:{"data-meta":"crw-admin-style"}};W.styleTagTransform=K(),W.setAttributes=q(),W.insert=N().bind(null,"head"),W.domAPI=V(),W.insertStyleElement=M(),R()(G.Z,W);const Y=G.Z&&G.Z.locals?G.Z.locals:void 0;function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function B(e,t,r,n,a,i,l){try{var c=e[i](l),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,a)}function X(){var e,t,r,n,m=(0,s.useRef)(null),f=(0,i.getGraphQLClient)(),v=(0,d.N)(),h=(r=(0,s.useState)(!0),n=2,function(e){if(Array.isArray(e))return e}(r)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i=[],l=!0,c=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{l||null==r.return||r.return()}finally{if(c)throw a}}return i}}(r,n)||function(e,t){if(e){if("string"==typeof e)return $(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?$(e,t):void 0}}(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),g=h[0],b=h[1],x=(e=a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,null==f?void 0:f.getAttributes();case 3:(t=e.sent)&&Array.isArray(t)&&(m.current=t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:b(!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})),t=function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function l(e){B(i,n,a,l,c,"next",e)}function c(e){B(i,n,a,l,c,"throw",e)}l(void 0)}))},function(){return t.apply(this,arguments)});(0,s.useEffect)((function(){x()}),[]);var y,k,w=function(e){m.current=m.current.filter((function(t){return t!==e})),v()};return s.createElement("div",{className:Y.Attributes},s.createElement("div",{className:Y.header},s.createElement("div",null,s.createElement("p",{className:(0,o.default)(p.Z.pageTitle,Y.pageTitle)},"Attributes")),s.createElement(l.Z,{variant:"contained",size:"small",onClick:function(){m.current.unshift({key:"",values:[],type:"radio"}),v()}},"Add new")),s.createElement(c.ZP,{spacing:3,container:!0,className:Y.list},m.current&&m.current.map((function(e,t){return s.createElement(c.ZP,{item:!0,xs:12,sm:6,key:null!==(y=e.id)&&void 0!==y?y:"temp_"+t},s.createElement("div",{className:Y.listItem,key:null!==(k=e.id)&&void 0!==k?k:t},s.createElement(D,{data:e,handleRemove:w})))})),g&&Array(3).fill(1).map((function(e,t){return s.createElement(c.ZP,{item:!0,xs:12,sm:12,md:6,key:t},s.createElement(u.Z,{key:t,className:Y.listItem,variant:"rectangular",height:"315px",width:"100%",style:{margin:"0 10px 20px 10px"}}," "))}))))}},82654:(e,t,r)=>{r.d(t,{Z:()=>c});var n=r(8081),a=r.n(n),i=r(23645),l=r.n(i)()(a());l.push([e.id,'.text_Tsipe{font-family:"Roboto","sans-serif"}.center_nD_DP{display:flex;align-items:center;justify-content:center}.paper_VLEHQ{box-shadow:0 2px 3px 0 rgba(0,0,0,.05),0 0 11px 5px rgba(0,0,0,.05);background-color:#fff;border-radius:5px}.page_didLT{display:flex;flex-direction:column;height:100%}.pageHeader_Sj2OT{display:inline-block}.pageContent_d8mVY{display:inline-block;height:100%;overflow:auto}.pageTitle_u9cEJ{display:flex;align-items:center;font-weight:500}.pageTitle_u9cEJ::before{content:"";width:5px;height:5px;background-color:#333;margin-right:8px;display:block;border-radius:100%}.modeDark .pageTitle_u9cEJ::before{background-color:#eee}.Attributes_GoKi8{padding:20px;width:100%;max-width:1200px;margin:0 auto;display:flex;flex-direction:column;height:100%;min-height:300px}.list_JmUzi::-webkit-scrollbar{width:.5em;height:.5em}.list_JmUzi::-webkit-scrollbar-track{border-radius:30px;background-color:rgba(0,0,0,.1)}.list_JmUzi::-webkit-scrollbar-thumb{background-color:#888;outline:none;border-radius:30px}.list_JmUzi::-webkit-scrollbar-thumb:hover{background-color:#666}.list_JmUzi::-webkit-scrollbar-thumb:active{background-color:#444}.list_JmUzi::-webkit-scrollbar-track{margin-top:15px;margin-bottom:15px}.listItem_mwa0c{box-shadow:0 2px 3px 0 rgba(0,0,0,.05),0 0 11px 5px rgba(0,0,0,.05);background-color:#fff;border-radius:5px}.header_QvKg5{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;padding:5px 15px;z-index:1}.pageTitle_u9cEJ{font-size:20px}@media screen and (max-width: 1069px){.list_JmUzi{overflow:visible;height:auto;padding-right:0}}.modeDark .listItem_mwa0c{background-color:#333}.modeDark .listItem_mwa0c *{color:#eee}.modeDark .header_QvKg5 *{color:#eee}',""]),l.locals={text:"text_Tsipe",center:"center_nD_DP",paper:"paper_VLEHQ",page:"page_didLT",pageHeader:"pageHeader_Sj2OT",pageContent:"pageContent_d8mVY",pageTitle:"pageTitle_u9cEJ",Attributes:"Attributes_GoKi8",list:"list_JmUzi",listItem:"listItem_mwa0c",header:"header_QvKg5"};const c=l}}]);